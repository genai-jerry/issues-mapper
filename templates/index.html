<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Code Module Embedding Manager</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <h1>Code Module Embedding Manager</h1>
    <section id="project-section">
        <h2>Projects</h2>
        <form id="project-form">
            <input type="text" id="project-name" placeholder="Project Name" required>
            <button type="submit">Add Project</button>
        </form>
        <ul id="project-list"></ul>
    </section>
    <section id="project-detail-section" style="display:none;">
        <button id="back-to-projects">&larr; Back to Projects</button>
        <h2 id="selected-project-name"></h2>
        <div>
            <h3>Modules</h3>
            <form id="module-form">
                <input type="text" id="module-name" placeholder="Module Name" required>
                <button type="submit">Add Module</button>
            </form>
            <ul id="module-list"></ul>
        </div>
        <div>
            <h3>Directories</h3>
            <form id="directory-form">
                <input type="text" id="directory-path" placeholder="Directory Path" required>
                <select id="directory-module-id" required></select>
                <button type="submit">Add Directory</button>
            </form>
            <ul id="directory-list"></ul>
        </div>
        <div>
            <h3>Files</h3>
            <form id="file-form">
                <input type="text" id="file-path" placeholder="File Path" required>
                <select id="file-module-id" required></select>
                <button type="submit">Add File</button>
            </form>
            <ul id="file-list"></ul>
        </div>
        <div>
            <h3>Upload Python File for Embedding</h3>
            <form id="embedding-form" enctype="multipart/form-data">
                <input type="file" id="embedding-file" accept=".py" required>
                <select id="embedding-file-id" required></select>
                <button type="submit">Upload & Generate Embeddings</button>
            </form>
            <ul id="block-list"></ul>
        </div>
        <div>
            <h3>Background Processing Jobs</h3>
            <form id="job-form">
                <div id="job-directories-list"></div>
                <button type="submit">Start Processing Job(s)</button>
            </form>
            <button id="resume-all-jobs">Resume All Incomplete Jobs</button>
            <button id="clear-all-jobs">Clear All Jobs</button>
            <ul id="job-list"></ul>
        </div>
    </section>
    <script src="/static/app.js"></script>
</body>
</html> 